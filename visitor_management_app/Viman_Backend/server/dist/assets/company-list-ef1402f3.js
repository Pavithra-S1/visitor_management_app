import{u as P,r as n,j as e,I as A,a as C,S as y,T as D,R as E,b as O,c as W,W as q}from"./index-00aebc20.js";import{a as H,C as $,b as z,c as G,T as J,g as K}from"./company-edit-4668582f.js";import{C as M}from"./Container-6fbcd7c5.js";import{B as Q}from"./Button-03556603.js";import{C as U}from"./Card-5581d361.js";import{T as V,a as X,b as Y}from"./TableContainer-aaa292be.js";import{P as Z}from"./Pagination-2368a6d9.js";import"./TableSortLabel-b1a0cc73.js";import"./Checkbox-7a3596eb.js";import"./Select-2ccfb3b7.js";import"./Menu-8e8bcaa8.js";import"./InputAdornment-c36000c5.js";import"./Grid2-26de99b5.js";import"./isMuiElement-2ec1e31c.js";import"./Tooltip-67cae8cc.js";import"./Popper-95ad79c6.js";import"./TextField-0d0d1389.js";import"./Dialog-0245826b.js";import"./DialogTitle-294f3dce.js";import"./Slide-712f2a1e.js";function ee(){const{enqueueSnackbar:r,closeSnackbar:f}=P(),[l,j]=n.useState([]),[b,S]=n.useState({}),[m,g]=n.useState(1),[p,k]=n.useState("asc"),[s,d]=n.useState([]),[u,v]=n.useState("employee_id"),[i,T]=n.useState("");n.useState(5);const[_,I]=n.useState(0),h=n.useCallback(a=>e.jsx(A,{color:"inherit",onClick:()=>f(a),children:e.jsx(C,{icon:"eva:close-outline"})}),[f]);n.useEffect(()=>{(async()=>{try{await W.get(`/api/company_list?page=${m}`).then(t=>{t.data.status&&(j(t.data.results),S(t.data.info))}).catch(t=>{r(t.response.data.message,{variant:"error",action:h})})}catch(t){r(t.message,{variant:"error",action:h})}})()},[m,_,h,r]);const w=(a,t)=>{t!==""&&(k(u===t&&p==="asc"?"desc":"asc"),v(t))},B=a=>{if(a.target.checked){const t=l.map(o=>o.company_id);d(t);return}d([])},F=(a,t)=>{const o=s.indexOf(t);let c=[];o===-1?c=c.concat(s,t):o===0?c=c.concat(s.slice(1)):o===s.length-1?c=c.concat(s.slice(0,-1)):o>0&&(c=c.concat(s.slice(0,o),s.slice(o+1))),d(c)},L=(a,t)=>{g(t)},N=a=>{g(0),T(a.target.value)},x=H({inputData:l,comparator:K(p,u),filterName:i}),R=!x.length&&!!i;return e.jsxs(M,{children:[e.jsxs(y,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(D,{variant:"h4",children:"Employee List"}),e.jsx(y,{direction:"row",alignItems:"center",gap:3,children:e.jsx(Q,{href:"/companies/create",variant:"contained",component:E,startIcon:e.jsx(C,{icon:"eva:plus-fill"}),children:"New Company"})})]}),e.jsxs(U,{children:[e.jsx($,{numSelected:s.length,filterName:i,onFilterName:N}),e.jsx(O,{children:e.jsx(V,{sx:{overflow:"unset"},children:e.jsxs(X,{sx:{minWidth:800},children:[e.jsx(z,{order:p,orderBy:u,rowCount:l.length,numSelected:s.length,onRequestSort:w,onSelectAllClick:B,headLabel:[{id:"company_logo",label:"Company Logo",align:"center"},{id:"company_name",label:"Company Name",align:"center"},{id:"company_website",label:"Company Website",align:"center"},{id:""}]}),e.jsxs(Y,{children:[x.map(a=>e.jsx(G,{setRefresh:I,companyId:a.company_id,companyLogo:a.company_logo,companyName:a.company_name,companyWebsite:a.company_website,selected:s.indexOf(a.company_id)!==-1,handleClick:t=>F(t,a.company_id)},a.id)),R&&e.jsx(J,{query:i})]})]})})}),e.jsx(y,{direction:"row",alignItems:"center",justifyContent:"center",my:3,spacing:2,children:e.jsx(Z,{showFirstButton:!0,showLastButton:!0,count:b.totalPage,page:m,onChange:L,variant:"outlined",shape:"rounded"})})]})]})}function be(){return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx("title",{children:"Comapanies | Refex Contacts"})}),e.jsx(ee,{})]})}export{be as default};
