import{w as h,r as o,j as e,W as f,B as m,an as j,f as y,ao as v,T as i,L as b,ap as T,s as S,c as w}from"./index-00aebc20.js";import{C}from"./Card-5581d361.js";import{T as F}from"./TextField-0d0d1389.js";import{L}from"./LoadingButton-dbb2fb4b.js";import"./Select-2ccfb3b7.js";import"./Menu-8e8bcaa8.js";import"./isMuiElement-2ec1e31c.js";import"./Button-03556603.js";const k=S("div")(({theme:s})=>({maxWidth:700,margin:"auto",minHeight:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",padding:s.spacing(12,0)}));function G(){const s=h(),[n,u]=o.useState(""),[d,c]=o.useState(!1),[x,a]=o.useState(!1),[g,r]=o.useState(""),p=l=>{if(a(!0),r(""),l.preventDefault(),n===""||n===null)setTimeout(()=>{r("Email is required."),a(!1)},1e3);else try{w.post("/api/forgot_password",{email:n}).then(t=>{console.log(t),t.data.status&&(c(!0),a(!1),r(t.data.message))}).catch(t=>{setTimeout(()=>{a(!1),r(t.response.data.message)},1e3)})}catch(t){setTimeout(()=>{a(!1),r(t.message)},1e3)}};return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:e.jsx("title",{children:" Forgot Password | Refex Contacts "})}),e.jsxs(m,{sx:{...j({color:y(s.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(v,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(k,{sx:{textAlign:"center",alignItems:"center"},children:e.jsxs(C,{sx:{p:3},children:[e.jsx(i,{variant:"h3",paragraph:!0,children:"Forgot your password ?"}),e.jsx(i,{sx:{color:"text.secondary"},children:"Please enter your email address. You will receive a link to reset your password via email."}),e.jsxs(m,{component:"form",noValidate:!0,onSubmit:p,sx:{my:2},children:[e.jsx(F,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:l=>u(l.target.value)}),!d&&e.jsx(L,{fullWidth:!0,loading:x,size:"large",type:"submit",variant:"contained",sx:{mt:3,mb:1},children:"Request reset link"}),e.jsx(i,{mt:1,variant:"subtitle1",color:d?s.palette.success.main:s.palette.error.main,align:"center",children:g})]}),e.jsx(i,{variant:"subtitle1",display:"inline-block",color:"info",sx:{fontWeight:900},children:e.jsx(b,{href:"/login",underline:"hover",children:"Go To Login Page"})})]})}),e.jsx(T,{})]})]})}export{G as default};
