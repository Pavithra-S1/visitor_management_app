import{u as O,r as n,j as t,I as w,a as j,S as y,T as A,R as L,b as q,c as W,W as H}from"./index-00aebc20.js";import{e as M,I as z,f as G,g as J,i as K,j as Q}from"./table-no-data-f6fc5645.js";import{C as U}from"./Container-6fbcd7c5.js";import{B as V}from"./Button-03556603.js";import{C as X}from"./Card-5581d361.js";import{T as Y,a as Z,b as $}from"./TableContainer-aaa292be.js";import{T as ee}from"./TablePagination-8667f9a4.js";import"./Grid2-26de99b5.js";import"./isMuiElement-2ec1e31c.js";import"./Tooltip-67cae8cc.js";import"./Popper-95ad79c6.js";import"./Menu-8e8bcaa8.js";import"./Autocomplete-a861e4c5.js";import"./Select-2ccfb3b7.js";import"./usePreviousProps-34b9cb0c.js";import"./TextField-0d0d1389.js";import"./Dialog-0245826b.js";import"./DialogTitle-294f3dce.js";import"./Slide-712f2a1e.js";import"./TableSortLabel-b1a0cc73.js";import"./Checkbox-7a3596eb.js";import"./format-number-337f61cf.js";import"./FileSaver.min-16aeda95.js";import"./InputAdornment-c36000c5.js";import"./label-b63efce0.js";function te(){const{enqueueSnackbar:d,closeSnackbar:x}=O(),[l,S]=n.useState([]);n.useState({});const[r,p]=n.useState(0),[h,v]=n.useState("asc"),[s,u]=n.useState([]),[b,C]=n.useState("employee_id"),[c,I]=n.useState(""),[m,_]=n.useState(5),[P,k]=n.useState(0),g=n.useCallback(e=>t.jsx(w,{color:"inherit",onClick:()=>x(e),children:t.jsx(j,{icon:"eva:close-outline"})}),[x]);n.useEffect(()=>{(async()=>{try{await W.get("/api/employees/inactive").then(a=>{a.data.status&&S(a.data.results)}).catch(a=>{d(a.response.data.message,{variant:"error",action:g})})}catch(a){d(a.message,{variant:"error",action:g})}})()},[r,P,g,d]);const T=(e,a)=>{a!==""&&(v(b===a&&h==="asc"?"desc":"asc"),C(a))},R=e=>{if(e.target.checked){const a=l.map(o=>o.employee_id);u(a);return}u([])},B=(e,a)=>{const o=s.indexOf(a);let i=[];o===-1?i=i.concat(s,a):o===0?i=i.concat(s.slice(1)):o===s.length-1?i=i.concat(s.slice(0,-1)):o>0&&(i=i.concat(s.slice(0,o),s.slice(o+1))),u(i)},E=(e,a)=>{p(a)},N=e=>{p(0),_(parseInt(e.target.value,10))},F=e=>{p(0),I(e.target.value)},f=M({inputData:l,comparator:Q(h,b),filterName:c}),D=!f.length&&!!c;return t.jsxs(U,{maxWidth:"xl",children:[t.jsxs(y,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[t.jsx(A,{variant:"h4",children:"Inactive Employee list"}),t.jsx(y,{direction:"row",alignItems:"center",gap:3,children:t.jsx(V,{href:"/employees/list",variant:"contained",color:"error",component:L,startIcon:t.jsx(j,{icon:"eva:arrow-back-fill"}),children:"Back to active list"})})]}),t.jsxs(X,{children:[t.jsx(z,{numSelected:s.length,filterName:c,onFilterName:F}),t.jsx(q,{children:t.jsx(Y,{sx:{overflow:"unset"},children:t.jsxs(Z,{sx:{minWidth:800},children:[t.jsx(G,{order:h,orderBy:b,rowCount:l.length,numSelected:s.length,onRequestSort:T,onSelectAllClick:R,headLabel:[{id:"employee_id",label:"Employee ID"},{id:"employee_name",label:"Name"},{id:"mobile_number",label:"Mobile Number"},{id:"landline",label:"Landline"},{id:"designation",label:"designation"},{id:"company_name",label:"Company"},{id:"branch_name",label:"Branch"},{id:"is_active",label:"Status"},{id:""}]}),t.jsxs($,{children:[f.slice(r*m,r*m+m).map(e=>t.jsx(J,{setRefresh:k,employeeId:e.employee_id,name:e.employee_name,email:e.email,photo:e.photo,designation:e.designation,mobileNumber:e.mobile_number,landline:e.landline,company:e.company.company_name,branch:e.branch.branch_name,status:e.is_active,selected:s.indexOf(e.employee_id)!==-1,handleClick:a=>B(a,e.employee_id)},e.id)),D&&t.jsx(K,{query:c})]})]})})}),t.jsx(ee,{page:r,component:"div",count:l.length,rowsPerPage:m,onPageChange:E,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:N}),t.jsx(y,{direction:"row",alignItems:"center",justifyContent:"center",my:3,spacing:2})]})]})}function ke(){return t.jsxs(t.Fragment,{children:[t.jsx(H,{children:t.jsx("title",{children:"Employees | Refex Contacts"})}),t.jsx(te,{})]})}export{ke as default};
